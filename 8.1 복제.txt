이 장의 내용
- 읽기 성능 증대를 위한 복제 기법
- 쓰기 성능 증대를 위한 샤딩 기법
- 각 방법의 장단점
- 복제와 샤딩의 혼합

레디스는 복제를 위해서 마스터와 슬레이브 복제의 개념을 사용한다.
마스터는 복제를 위한 원본 슬레이브는 마스터 노드에 데이터 복제를 요청하고 데이터를 수산하여 데이터 동기화

레디스의 복제는 읽기 성능의 증대를 위해서 사용된다.
통상적으로 레디스 인스턴스 하나가 처리할 수 있는 TPS*는 1만에서 2만이다. 

Transaction Per Second, 초당 처리 가능한 단일 트랜젝션의 수를 의미.
대부분의 데이터베이스 시스템의 처리 성능 측정의 단위로 사용한다.

또한 데부분의 레디스는 읽기와 쓰기에 따른 성능 편차가 없다. 그러므로 레디스의 읽기 성능을 증대시키기 위해서 복제를 사용
하여 클러스터를 구성한다. 대부분의 서비스는 데이터베이스에 대한 읽기 쓰기의 비율이 1:9 또는 2:8 정도로 보인다.

이와 같은 서비스에서 레디스 처리 성능한계에 맞닥뜨리게 되었을 때 레디스의 복제를 고려한다.

레디스 복제는 기본적으로 마스터 노드에서 쓰기 연산을 수행하고 슬레이브 노드에서 읽기 연산을 수행하도록 하여

읽기와 쓰기를 완전히 분리한다. 읽기 연산과 쓰기 연산을 분리하여 확장 구조의 유연성을 가질 수 있다.

반대로 읽기와 쓰기를 분리하기 위해서 애플리케이션 레벨에서 사용할 수 있는 명령의 한계와 애플리케이션의 복잡도 증가가 발생

복제는 슬레이브 노드가 마스터 노드의 데이터를 실시간으로 복제하여 데이터의 동기화를 유지한다.

레디스 클러스터에 노드를 추가할 때 마스터 노드의 설정 변경이나 마스터 노드의 재시작 등이 필요하지 않다.

이와 같이 레디스의 복제는 마스터 노드가 슬레이브의 정보를 가지지 않기 때문에 다양한 구조의 복제 구성이 가능하다.

이번 절에서는 단순한 단일 스레이브 구성을 시작으로 복제의 구성을 어디까지 확장할 수 있는지 알아보자.












